<!DOCTYPE html>
<html>
<head>
    <title>CometD Angular Reload Demo</title>
    <script type="text/javascript" src="../../js/cometd/cometd.js"></script>
    <script type="text/javascript" src="../../js/cometd/ReloadExtension.js"></script>
    <script type="text/javascript" src="https://code.angularjs.org/1.7.2/angular.js"></script>
    <script type="text/javascript" src="../../js/angular/angular-cometd.js"></script>
    <script type="text/javascript" src="../../js/angular/angular-cometd-reload.js"></script>
    <script type="text/javascript" src="application.js"></script>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Varela+Round">
    <style>
        body {
            font-family: "Varela Round", sans-serif;
            color: #333;
        }
        a:hover, a:visited {
            color: #333;
        }
        a:active {
            color: #E52;
        }
    </style>
</head>
<body ng-app="cometdReloadApp">

<h1>CometD Reload Demo</h1>

<a href="../..">Main Demo Index</a>

<br/>

<p>
    This test shows how a page can be loaded and resume a CometD connection with the same client ID.
</p>
<p>
    This allows site navigation and page loads to be done without needing to
    reestablish a different CometD session with the server.
</p>

<blockquote>
    <a href=".">RELOAD</a>,
    <a href="../../dojo-examples/reload/">DOJO</a>,
    <a href="../../jquery-examples/reload/">JQUERY</a>
</blockquote>

<p>
    The ID's below should be the same after this page is reloaded:
</p>

<blockquote ng-controller="cometdReload">
    <table>
        <tr>
            <td>Previous ID:</td>
            <td><span id="previous">{{previous}}</span></td>
        </tr>
        <tr>
            <td>Current ID:</td>
            <td><span id="current">{{current}}</span></td>
        </tr>
        <tr>
            <td>Advice:</td>
            <td>
                <pre id="advice">{{advice}}</pre>
            </td>
        </tr>
    </table>
</blockquote>

<p>
    A full fledged reload example is available in the <a href="../chat/">Angular Chat Demo</a>.
</p>

</body>
</html>
